<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Մաթեմատիկայի վիդեոդասեր</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;800&family=Raleway:wght@300;400;600&display=swap" rel="stylesheet">
    <!-- KaTeX for LaTeX rendering (like in the example code) -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0c0e15, #1a1f36, #2c3e50);
            min-height: 100vh;
            font-family: 'Raleway', sans-serif;
            color: #fff;
            overflow-x: hidden;
            position: relative;
            overflow: hidden; /* Hide overflow to hide bottom area */
        }
        
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .header-container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            z-index: 10;
        }
        
        .logo-container {
            margin-bottom: 25px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 120px;
            height: 120px;
        }
        
        .logo {
            font-size: 4.5rem;
            font-family: "Cambria Math", "Times New Roman", serif;
            font-weight: normal;
            background: linear-gradient(45deg, #4facfe, #00f2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 
                0 5px 15px rgba(0, 242, 254, 0.3),
                0 0 20px rgba(79, 172, 254, 0.2);
            animation: rotate 20s linear infinite;
            /* Manually center the infinity symbol */
            position: relative;
            left: 0px; /* Adjust this value to center the symbol */
            top: 0px;  /* Fine-tune vertical alignment */
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .logo::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140px;
            height: 120px;
            border: 2px solid rgba(79, 172, 254, 0.3);
            /* Custom elliptical border: horizontal-radius / vertical-radius */
            border-radius: 70px / 60px; /* This equals 50% of width / 50% of height */
            animation: pulse 3s infinite alternate;
            z-index: -1;
            box-shadow: 
                0 0 10px rgba(79, 172, 254, 0.2),
                0 0 20px rgba(0, 242, 254, 0.1);
        }
        
        @keyframes pulse {
            0% { 
                transform: translate(-50%, -50%) scale(1); 
                opacity: 0.5; 
                box-shadow: 
                    0 0 10px rgba(79, 172, 254, 0.2),
                    0 0 20px rgba(0, 242, 254, 0.1);
            }
            100% { 
                transform: translate(-50%, -50%) scale(1.1); 
                opacity: 0.2;
                box-shadow: 
                    0 0 15px rgba(79, 172, 254, 0.3),
                    0 0 30px rgba(0, 242, 254, 0.2);
            }
        }
        
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(to right, #fff, #a0d2eb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 
                0 2px 10px rgba(0, 0, 0, 0.2),
                0 0 15px rgba(160, 210, 235, 0.1);
            letter-spacing: 1px;
            position: relative;
            display: inline-block;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #00f2fe, transparent);
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(0, 242, 254, 0.3);
        }
        
        .subtitle {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 0 auto 40px;
            color: #cbd5e0;
            font-weight: 300;
            line-height: 1.8;
            letter-spacing: 0.5px;
            text-shadow: 0 0 10px rgba(203, 213, 224, 0.1);
        }
        
        .equation-display {
            position: relative;
            height: 160px; /* FIXED STATIC HEIGHT */
            width: 95%;
            max-width: 1000px;
            margin: 35px 0;
            padding: 20px 30px;
            background: rgba(15, 23, 42, 0.7);
            border-radius: 16px;
            border: 2px solid rgba(79, 172, 254, 0.3);
            backdrop-filter: blur(15px);
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(79, 172, 254, 0.2),
                0 0 40px rgba(0, 242, 254, 0.1);
            overflow: hidden;
        }
        
        /* NEW: Equation container like in the example */
        .equation-container {
            position: relative;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* NEW: Equation elements that will overlap */
        .equation {
            font-size: 2.2rem;
            color: #e2e8f0;
            text-shadow: 
                0 0 10px rgba(160, 210, 235, 0.3),
                0 0 20px rgba(79, 172, 254, 0.2);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }
        
        .equation.active {
            opacity: 1;
        }
        
        .cta-button {
            position: relative;
            display: inline-block;
            margin-top: 20px;
            padding: 16px 48px;
            background: transparent;
            color: #00ffff;
            font-size: 1.13rem;
            font-weight: 600;
            border: 2px solid;
            border-image: linear-gradient(45deg, #00ffff, #fbbb09, #095ce1, #28a745) 1;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.4s ease;
            overflow: hidden;
            z-index: 1;
            letter-spacing: 1px;
            text-decoration: none;
        }
        
        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, 
                rgba(0, 255, 255, 0.1), 
                rgba(251, 187, 9, 0.1), 
                rgba(9, 92, 225, 0.1),
                rgba(40, 167, 69, 0.1));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .cta-button:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 10px 25px rgba(0, 255, 255, 0.3),
                0 0 20px rgba(251, 187, 9, 0.2),
                0 0 30px rgba(9, 92, 225, 0.1),
                0 0 40px rgba(40, 167, 69, 0.1);
            background: rgba(0, 255, 255, 0.05);
        }
        
        .cta-button:hover::before {
            opacity: 1;
        }
        
        .cta-button:active {
            transform: translateY(0);
        }
        
        .footer-text {
            position: absolute;
            bottom: 25px;
            color: rgba(203, 213, 224, 0.7);
            font-size: 1rem;
            font-weight: 300;
            letter-spacing: 1px;
            text-shadow: 0 0 5px rgba(203, 213, 224, 0.2);
        }
        
        /* Particle system styling - Original Colors with Neon */
        .particle {
            position: absolute;
            width: 2.5px;
            height: 2.5px;
            border-radius: 50%;
            animation: particle-float 15s infinite linear;
            filter: blur(0.5px);
        }
        
        @keyframes particle-float {
            0% {
                transform: translateY(0) translateX(0) rotate(0deg) scale(0.7);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
                transform: scale(1);
            }
            90% {
                opacity: 0.8;
                transform: scale(1);
            }
            100% {
                transform: translateY(-100vh) translateX(calc(60px * var(--direction, 1))) rotate(720deg) scale(0.7);
                opacity: 0;
            }
        }
        
        /* Responsive design */
        @media (max-width: 992px) {
            h1 {
                font-size: 4rem;
            }
            .equation {
                font-size: 2rem;
            }
            .equation-display {
                height: 150px;
            }
            .logo {
                font-size: 3.5rem;
            }
            .logo-container {
                width: 100px;
                height: 100px;
            }
            .logo::after {
                width: 115px;
                height: 105px;
            }
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2.75rem;
            }
            .subtitle {
                font-size: 1.3rem;
            }
            .equation {
                font-size: 1.7rem;
            }
            .logo {
                font-size: 3.5rem;
            }
            .logo-container {
                width: 90px;
                height: 90px;
            }
            .logo::after {
                width: 105px;
                height: 95px;
            }
            .equation-display {
                height: 140px;
                padding: 20px 25px;
            }
        }
        
        @media (max-width: 480px) {
            h1 {
                font-size: 2.4rem;
            }
            .subtitle {
                font-size: 1.125rem;
            }
            .equation {
                font-size: 1.2rem;
            }
            .logo {
                font-size: 2.8rem;
            }
            .logo-container {
                width: 80px;
                height: 80px;
            }
            .logo::after {
                width: 95px;
                height: 85px;
            }
            .cta-button {
                padding: 14px 36px;
                font-size: 1rem;
            }
            .equation-display {
                height: 130px;
                padding: 5px 5px;
            }    
            .footer-text {
                font-size: 0.9rem;
            }    
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>
    
    <div class="header-container">
        <div class="logo-container">
            <!-- Perfectly centered infinity symbol -->
            <div class="logo">∞</div>
        </div>
        
        <h1>Մաթեմատիկայի վիդեոդասեր</h1>
        <p class="subtitle">Սովորեք մաթեմատիկա ցանկացած վայրում և ժամին</p>
        
        <div class="equation-display">
            <!-- NEW: Container for overlapping equations -->
            <div class="equation-container" id="equationContainer"></div>
        </div>
        
        <a href="https://dimordi-uxecuyc.am/page/about-us" class="cta-button">Սկսել ճանապարհորդությունը</a>
        
        <div class="footer-text">Բացահայտեք իրականությունը ձևավորող օրինաչափությունները։</div>
    </div>

    <script>
        // Initialize Three.js scene for background
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);
        
        // Create particles - ORIGINAL COLORS with ENHANCED NEON
        const particlesCount = 2500; // More particles for better effect
        
        const posArray = new Float32Array(particlesCount * 3);
        const colorArray = new Float32Array(particlesCount * 3);
        
        // Create positions and colors - ORIGINAL BLUE SPECTRUM
        for(let i = 0; i < particlesCount * 3; i += 3) {
            // Positions
            posArray[i] = (Math.random() - 0.5) * 18;
            posArray[i + 1] = (Math.random() - 0.5) * 18;
            posArray[i + 2] = (Math.random() - 0.5) * 18;
            
            // ORIGINAL COLORS (blue spectrum) with enhanced brightness for neon effect
            const brightnessBoost = 0.2; // Boost brightness for neon effect
            colorArray[i] = (0.2 + Math.random() * 0.3) + brightnessBoost; // R
            colorArray[i + 1] = (0.5 + Math.random() * 0.4) + brightnessBoost; // G
            colorArray[i + 2] = (0.8 + Math.random() * 0.2) + brightnessBoost; // B
            
            // Ensure values don't exceed 1.0
            colorArray[i] = Math.min(1.0, colorArray[i]);
            colorArray[i + 1] = Math.min(1.0, colorArray[i + 1]);
            colorArray[i + 2] = Math.min(1.0, colorArray[i + 2]);
        }
        
        // Create 3 particle systems with different sizes - ENHANCED FOR NEON
        // Small particles (35% of total)
        const smallParticlesMaterial = new THREE.PointsMaterial({
            size: 0.04, // Slightly larger for better neon visibility
            vertexColors: true,
            transparent: true,
            opacity: 0.9, // Higher opacity for neon glow
            blending: THREE.AdditiveBlending,
            sizeAttenuation: true
        });
        
        // Medium particles (60% of total)
        const mediumParticlesMaterial = new THREE.PointsMaterial({
            size: 0.06, // Larger for better visibility
            vertexColors: true,
            transparent: true,
            opacity: 1.0, // Maximum opacity for strong neon
            blending: THREE.AdditiveBlending,
            sizeAttenuation: true
        });
        
        // Large particles (5% of total)
        const largeParticlesMaterial = new THREE.PointsMaterial({
            size: 0.08, // Even larger for special glow effect
            vertexColors: true,
            transparent: true,
            opacity: 0.8, // Slightly transparent for glow effect
            blending: THREE.AdditiveBlending,
            sizeAttenuation: true
        });
        
        // Create geometry for each size group
        const smallGeometry = new THREE.BufferGeometry();
        const mediumGeometry = new THREE.BufferGeometry();
        const largeGeometry = new THREE.BufferGeometry();
        
        const smallPositions = [];
        const smallColors = [];
        const mediumPositions = [];
        const mediumColors = [];
        const largePositions = [];
        const largeColors = [];
        
        // Distribute particles into size groups
        for(let i = 0; i < particlesCount; i++) {
            const rand = Math.random();
            const index = i * 3;
            
            if (rand < 0.35) {
                // Small particles (35%)
                smallPositions.push(posArray[index], posArray[index + 1], posArray[index + 2]);
                smallColors.push(colorArray[index], colorArray[index + 1], colorArray[index + 2]);
            } else if (rand < 0.95) {
                // Medium particles (60%)
                mediumPositions.push(posArray[index], posArray[index + 1], posArray[index + 2]);
                mediumColors.push(colorArray[index], colorArray[index + 1], colorArray[index + 2]);
            } else {
                // Large particles (5%)
                largePositions.push(posArray[index], posArray[index + 1], posArray[index + 2]);
                largeColors.push(colorArray[index], colorArray[index + 1], colorArray[index + 2]);
            }
        }
        
        // Set up geometries
        smallGeometry.setAttribute('position', new THREE.Float32BufferAttribute(smallPositions, 3));
        smallGeometry.setAttribute('color', new THREE.Float32BufferAttribute(smallColors, 3));
        
        mediumGeometry.setAttribute('position', new THREE.Float32BufferAttribute(mediumPositions, 3));
        mediumGeometry.setAttribute('color', new THREE.Float32BufferAttribute(mediumColors, 3));
        
        largeGeometry.setAttribute('position', new THREE.Float32BufferAttribute(largePositions, 3));
        largeGeometry.setAttribute('color', new THREE.Float32BufferAttribute(largeColors, 3));
        
        // Create particle systems
        const smallParticlesMesh = new THREE.Points(smallGeometry, smallParticlesMaterial);
        const mediumParticlesMesh = new THREE.Points(mediumGeometry, mediumParticlesMaterial);
        const largeParticlesMesh = new THREE.Points(largeGeometry, largeParticlesMaterial);
        
        // ENHANCED CIRCULAR PARTICLES WITH NEON GLOW
        const makeParticlesNeonCircular = (material) => {
            material.onBeforeCompile = (shader) => {
                shader.fragmentShader = shader.fragmentShader.replace(
                    'void main() {',
                    `
                    void main() {
                        vec2 xy = gl_PointCoord.xy - vec2(0.5);
                        float r = length(xy);
                        
                        // Create neon glow effect
                        float glow = 1.0 - smoothstep(0.0, 0.5, r);
                        float edgeGlow = 1.0 - smoothstep(0.4, 0.5, r);
                        
                        // Enhanced color with neon glow
                        vec3 neonColor = vColor * (1.0 + glow * 0.5);
                        
                        // Discard if outside circle
                        if (r > 0.5) discard;
                        
                        // Apply neon glow
                        gl_FragColor = vec4(neonColor, opacity * (glow + edgeGlow * 0.3));
                    `
                );
            };
        };
        
        makeParticlesNeonCircular(smallParticlesMaterial);
        makeParticlesNeonCircular(mediumParticlesMaterial);
        makeParticlesNeonCircular(largeParticlesMaterial);
        
        // Add all particle systems to scene
        scene.add(smallParticlesMesh);
        scene.add(mediumParticlesMesh);
        scene.add(largeParticlesMesh);
        
        camera.position.z = 5;
        
        // Animation with enhanced movement
        const animate = () => {
            requestAnimationFrame(animate);
            
            // Rotate all particle systems with smooth variation
            smallParticlesMesh.rotation.x += 0.0005;
            smallParticlesMesh.rotation.y += 0.0005;
            mediumParticlesMesh.rotation.x += 0.0005;
            mediumParticlesMesh.rotation.y += 0.0005;
            largeParticlesMesh.rotation.x += 0.0005;
            largeParticlesMesh.rotation.y += 0.0005;
            
            // Move particles for each system with enhanced flow
            const time = Date.now() * 0.001;
            
            const moveParticlesWithNeonFlow = (geometry, speedFactor = 1) => {
                const positions = geometry.attributes.position.array;
                for(let i = 0; i < positions.length; i += 3) {
                    // Original movement with slight wave effect
                    positions[i + 2] += 0.005 * speedFactor;
                    
                    // Add subtle wave motion for neon fluidity
                    positions[i] += Math.sin(time * 0.5 + positions[i + 2] * 0.1) * 0.0005;
                    positions[i + 1] += Math.cos(time * 0.5 + positions[i + 2] * 0.1) * 0.0005;
                    
                    // Reset if too far
                    if(positions[i + 2] > 9) {
                        positions[i] = (Math.random() - 0.5) * 18;
                        positions[i + 1] = (Math.random() - 0.5) * 18;
                        positions[i + 2] = -9;
                    }
                }
                geometry.attributes.position.needsUpdate = true;
            };
            
            moveParticlesWithNeonFlow(smallGeometry, 1.1);
            moveParticlesWithNeonFlow(mediumGeometry, 1.0);
            moveParticlesWithNeonFlow(largeGeometry, 0.9);
            
            renderer.render(scene, camera);
        };
        
        animate();
        
        // Handle window resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
        
        // Floating particles - ORIGINAL COLORS with NEON ENHANCEMENT
        const createFloatingParticles = () => {
            const container = document.body;
            const particleCount = 8;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Particle properties
                const posX = Math.random() * 100;
                particle.style.left = `${posX}%`;
                particle.style.bottom = '-50px';
                particle.style.setProperty('--direction', Math.random() > 0.5 ? 1 : -1);
                
                // Size variation
                const size = 2 + Math.random() * 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // ORIGINAL BLUE COLORS with neon enhancement
                const colorType = Math.random();
                if (colorType < 0.7) {
                    // Main blue particles (70%)
                    particle.style.background = 'rgba(79, 172, 254, 0.9)';
                    particle.style.boxShadow = 
                        '0 0 10px rgba(79, 172, 254, 0.8), ' +
                        '0 0 20px rgba(79, 172, 254, 0.5), ' +
                        '0 0 30px rgba(0, 242, 254, 0.3)';
                } else if (colorType < 0.9) {
                    // Light blue particles (20%)
                    particle.style.background = 'rgba(160, 210, 235, 0.9)';
                    particle.style.boxShadow = 
                        '0 0 10px rgba(160, 210, 235, 0.8), ' +
                        '0 0 20px rgba(160, 210, 235, 0.5), ' +
                        '0 0 30px rgba(160, 210, 235, 0.3)';
                } else {
                    // Cyan accent particles (10%)
                    particle.style.background = 'rgba(0, 242, 254, 0.9)';
                    particle.style.boxShadow = 
                        '0 0 15px rgba(0, 242, 254, 0.9), ' +
                        '0 0 30px rgba(0, 242, 254, 0.6), ' +
                        '0 0 45px rgba(0, 242, 254, 0.3)';
                }
                
                // Smooth animation
                const duration = 15 + Math.random() * 20;
                const delay = Math.random() * 5;
                particle.style.animationDuration = `${duration}s`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationTimingFunction = 'cubic-bezier(0.4, 0, 0.6, 1)';
                
                // Add neon pulse effect
                particle.style.animation += ', neon-pulse 3s infinite alternate';
                
                const style = document.createElement('style');
                style.innerHTML = `
                    @keyframes neon-pulse {
                        0%, 100% { 
                            opacity: 0.9; 
                            filter: blur(0.5px) brightness(1);
                        }
                        50% { 
                            opacity: 0.7; 
                            filter: blur(0.8px) brightness(1.2);
                        }
                    }
                `;
                document.head.appendChild(style);
                
                container.appendChild(particle);
                
                // Clean removal
                setTimeout(() => {
                    particle.remove();
                    style.remove();
                }, (duration + delay) * 1000);
            }
        };
        
        // Start floating particles
        createFloatingParticles();
        // Create new particles every 10 seconds
        setInterval(createFloatingParticles, 10000);
        
        const equations = [
            // Basic Arithmetic & Algebra
            'a + b = b + a',
            'a \\times (b + c) = a \\times b + a \\times c',
            '(a + b)^2 = a^2 + 2ab + b^2',
            '(a + b)^3 = a^3 + 3a^{2}b + 3ab^2 + b^3',
            'a^2 - b^2 = (a + b)(a - b)',
            'a^{-x} = \\dfrac{1}{a^{x}}, \\ a\\gt 0, \\ x\\in \\mathbb{R}',
            'a^{x} \\times a^{y} = a^{x+y}, \\ a\\gt 0, \\ x,y\\in \\mathbb{R}',
            '(a^{x})^{y} = a^{xy}, \\ a\\gt 0, \\ x,y\\in \\mathbb{R}',
            
            // Quadratic Formulas
            'ax^{2} + bx + c = 0',
            'x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}',
            'ax^{4} + bx^{2} + c = 0',
            'ma^{2x} + na^{x} + p = 0',
            
            // Geometry Basics
            'a^2 + b^2 = c^2',
            'S_{\\text{շրջան}} = \\pi R^{2}',
            'C = 2\\pi R',
            'V_{\\text{սֆերա}} = \\frac{4}{3}\\pi R^{3}',
            'S_{\\triangle} = \\frac{1}{2}ah_{a}',
            'S_{▭} = \\small \\text{երկարություն} \\times \\text{լայնություն}',
            'l_{\\text{աղեղ}} = R\\alpha',
            'S_{\\text{սեկտոր}} = \\frac{1}{2}Rl',
            'V_{\\text{կոն}} = \\frac{1}{3}\\pi R^{2}h',
            'V_{\\text{ուղղանկյունանիստ}} = a \\times b \\times c',
            'V_{\\text{զուգահեռանիստ}} = S_{\\text{հիմք}} \\times h',
            'V_{\\text{բուրգ}} = \\frac{1}{3} S_{\\text{հիմք}} \\times h',
            'S_{\\text{գնդային մակերևույթ}} = 4\\pi R^{2}',
            'S_{\\text{գլանի լրիվ մակերևույթ}} = 2\\pi R(R + h)',
            
            // Trigonometry
            '\\sin^{2}\\alpha + \\cos^{2}\\alpha = 1',
            '\\tg \\alpha = \\dfrac{\\sin \\alpha}{\\cos \\alpha}',
            '\\sin(2\\alpha) = 2\\sin \\alpha \\cos \\alpha',
            '\\cos(2\\alpha) = \\cos^{2}\\alpha - \\sin^{2}\\alpha',
            '\\sin(\\alpha + \\beta) = \\sin \\alpha \\cos \\beta + \\cos \\alpha \\sin \\beta',
            '\\cos(\\alpha + \\beta) = \\cos \\alpha \\cos \\beta - \\sin \\alpha \\sin \\beta',
            '\\dfrac{a}{\\sin \\angle A} = \\dfrac{b}{\\sin \\angle B} = \\dfrac{c}{\\sin \\angle C}=2R',
            'a^{2} = b^{2} + c^{2} - 2bc \\cos \\alpha',
            'S_{\\triangle} = \\sqrt{p(p-a)(p-b)(p-c)}, \\ p = \\dfrac{a+b+c}{2}',
            
            // Logarithms
            '\\log_{a}{b} = \\dfrac{\\log_{c}{b}}{\\log_{c}{a}}, \\ a, b, c > 0, \\ a, c \\neq 1',
            
            // Calculus Basics
            '\\dfrac{d}{dx} x^{\\alpha} = \\alpha x^{\\alpha-1}, \\ \\alpha\\in\\mathbb{R}, \\ x\\gt 0',
            '\\dfrac{d}{dx} \\sin x = \\cos x',
            '\\dfrac{d}{dx} \\cos x = -\\sin x',
            '\\dfrac{d}{dx} \\tg x = \\dfrac{1}{\\cos^{2}{x}}',
            '\\dfrac{d}{dx} e^{x} = e^{x}',
            '\\int x^{n} dx = \\dfrac{x^{n+1}}{n+1} + C, \\ n \\neq -1',
            '\\int \\dfrac{1}{x} dx = \\ln|x| + C, \\ x \\neq 0',
            '\\int e^{x} dx = e^{x} + C',
            '\\lim\\limits_{x \\to \\infty} \\left(1 + \\dfrac{1}{x}\\right)^{x} = e',
            '\\int_{a}^{b} f(x) dx = F(b) - F(a)',
            '\\frac{d}{dx} \\int_{a}^{x} f(t) dt = f(x)',
            
            // Sequences and Series
            'a_{n} = a_{1} + (n-1)d, \\ n\\in\\mathbb{N}',
            'b_{n} = b_{1} q^{n-1}, \\ q\\neq 0',
            'S_{n} = \\dfrac{a_{1} + a_{n}}{2} \\cdot n',
            'S_{n} = \\dfrac{2a_{1} + (n-1)d}{2} \\cdot n',
            'S_{n} = \\dfrac{b_{1}(q^{n} - 1)}{q - 1}, \\ q\\neq 1',
            'S = \\dfrac{b_{1}}{1 - q}, \\ |q| < 1',
            
            // Famous Constants & Identities
            'e^{i\\pi} + 1 = 0',
            'e^{i\\alpha} = \\cos\\alpha + i\\sin\\alpha',
            '(\\cos\\alpha + i\\sin\\alpha)^{n} = \\cos(n\\alpha) + i\\sin(n\\alpha), \\ n\\in\\mathbb{Z}',
            
            // Complex Numbers
            'i^{2} = -1',
            
            // Coordinate Geometry
            'd = \\sqrt{(x_{2} - x_{1})^{2} + (y_{2} - y_{1})^{2}}',
            'k = \\dfrac{y_{2} - y_{1}}{x_{2} - x_{1}}, \\ x_{1} \\neq x_{2}',
            'y = kx + b',
            'M = \\left(\\frac{x_{1} + x_{2}}{2}; \\frac{y_{1} + y_{2}}{2}\\right)',
            '(x - a)^{2} + (y - b)^{2} = R^{2}',
            'y = a(x - x_{0})^{2} + y_{0}',
            '\\dfrac{(x-h)^{2}}{a^{2}} + \\dfrac{(y-k)^{2}}{b^{2}} = 1',
            '\\dfrac{(x-h)^{2}}{a^{2}} - \\dfrac{(y-k)^{2}}{b^{2}} = 1',
            
            'AM = \\dfrac{x_{1} + x_{2} + \\cdots + x_{n}}{n}, \\ n\\in\\mathbb{N}',
            'GM = \\sqrt[n]{x_{1}\\cdot x_{2} \\cdots x_{n}}, \\ x_{i} \\geq 0 \\ \\forall i \\in \\{1, 2, \\ldots, n\\}, \\ n \\in \\mathbb{N}',
            'HM = \\dfrac{n}{\\frac{1}{x_{1}} + \\frac{1}{x_{2}} + \\cdots + \\frac{1}{x_{n}}}, \\ x_{i} > 0 \\ \\forall i \\in \\{1, 2, \\ldots, n\\}, \\ n \\in \\mathbb{N}',
            'RMS = \\sqrt{\\dfrac{x_{1}^{2} + x_{2}^{2} + \\cdots + x_{n}^{2}}{n}}, \\ n\\in\\mathbb{N}',
            '\\text{RMS} \\geq \\text{AM} \\geq \\text{GM} \\geq \\text{HM}',
            
            // Binomial Theorem & Combinatorics
            '(a + b)^{n} = \\sum_{k=0}^{n} {C_{n}}^{k} a^{n-k}b^{k}, \\ n\\in\\mathbb{N_{0}}',
            '{C_{n}}^{k} = \\dfrac{n!}{k!(n-k)!}, \\ n,k\\in\\mathbb{N_{0}}, \\ 0 \\leq k \\leq n',
            'P_{n}^{k} = \\dfrac{n!}{(n-k)!}, \\ n,k\\in\\mathbb{N_{0}}, \\ 0 \\leq k \\leq n',
            '{C_{n}}^{k} = {C_{n-1}}^{k-1} + {C_{n-1}}^{k}, \\ n,k\\in\\mathbb{N}, \\ 1 \\leq k \\leq n',
            'n! = \\begin{cases} 1, & n=0 \\\\ n \\times (n-1) \\times \\cdots \\times 1, & n\\in\\mathbb{N} \\end{cases}',
            
            // Financial Mathematics
            'FV = PV(1 + r)^{t}',
            'FV = PV\\left(1 + \\dfrac{r}{n}\\right)^{nt}',
            'S = Pe^{rt}',
            'S = v\\times t',
            
            // Set Theory
            'A \\cup B = \\{x: x \\in A \\text{ կամ } x \\in B\\}',
            'A \\cap B = \\{x: x \\in A \\text{ և } x \\in B\\}',
            
            // Vectors & Matrices
            '|\\vec{v}| = \\sqrt{x^{2} + y^{2} + z^{2}}',
            '\\vec{a} \\cdot \\vec{b} = |\\vec{a}| \\cdot |\\vec{b}| \\cos\\alpha',
            '\\det\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} = ad - bc',
            
            // Special Functions
            '|x| = \\begin{cases} \\ \\ \\ x, & \\text{եթե } x \\geq 0 \\\\ -x, & \\text{եթե } x < 0 \\end{cases}',
            '\\lfloor x \\rfloor = \\max\\{m\\in \\mathbb{Z} \\mid m \\leq x\\}',
            '\\lceil x \\rceil = \\min\\{n\\in \\mathbb{Z} \\mid n\\geq x\\}',
            
            // Number Theory
            '\\text{ԱԸԲ}(a;b) \\times \\text{ԱԸԲ}[a;b] = ab, \\ a,b\\in\\mathbb{N}',
            'n = p_{1}^{a_{1}} \\times p_{2}^{a_{2}}\\times \\cdots \\times p_{k}^{a_{k}}, \\ n\\in \\mathbb{Z}, \\ n>1',
            
            // Inequalities
            '(1+x)^{n} \\geq 1+nx, \\ \\forall x \\geq -1, \\ n\\in \\mathbb{N}',
            
            // Summation & Product Notation
            '\\sum_{i=1}^{n} a_{i} = a_{1} + a_{2} + \\cdots + a_{n}, \\ n\\in\\mathbb{N}',
            '\\prod_{i=1}^{n} a_{i} = a_{1} \\times a_{2} \\times \\cdots \\times a_{n}, \\ n\\in\\mathbb{N}',
            
            // Trigonometric Regression
            'y = A \\sin(Bx + C) + D',
            
            // NEW ADDED FORMULAS
            '\\arccos x + \\arccos(-x) = \\pi',
            '\\arcsin x + \\arccos x = \\dfrac{\\pi}{2}',
            '\\arctg x + \\mathrm{arcctg}\\, x = \\dfrac{\\pi}{2}',
            '\\arctg 1 + \\arctg 2 + \\arctg 3 = \\pi',
            '\\mathrm{C}_{n}^{0} + \\mathrm{C}_{n}^{1} + \\mathrm{C}_{n}^{2} + \\dots + \\mathrm{C}_{n}^{n} = 2^{n}, \\ n\\in \\mathbb{N_{0}}',
            'n! \\approx \\sqrt{2\\pi n}\\cdot \\left(\\frac{n}{e}\\right)^{n}',
            '[x]+\\left[x+\\frac{1}{n}\\right]+\\left[x+\\frac{2}{n}\\right]+\\dots + \\left[x+\\frac{n-1}{n}\\right]=[nx], \\forall x\\in \\mathbb{R}, \\ n\\in \\mathbb{N}',
            'y - f(x_{0}) = f\'(x_{0})(x - x_{0})',
            'y - f(x_{0}) = -\\frac{1}{f\'(x_{0})}(x - x_{0})',
            '\\tg \\varphi = \\dfrac{k_{2} - k_{1}}{1 + k_{1} \\cdot k_{2}}',
            '(\\sqrt[n]{x})\' = \\dfrac{1}{n\\sqrt[n]{x^{n-1}}}',
            '\\sqrt{a \\pm \\sqrt{b}} = \\sqrt{\\frac{a + \\sqrt{a^{2} - b}}{2}} \\pm \\sqrt{\\frac{a - \\sqrt{a^{2} - b}}{2}}, \\ b \\geq 0, \\ a \\geq \\sqrt{b}',
            'a^{\\log_{a} b} = b, \\ a > 0, \\ a \\neq 1, \\ b > 0',
            '\\sin 3\\alpha = 3\\sin\\alpha - 4\\sin^{3}\\alpha',
            '\\cos 3\\alpha = 4\\cos^{3}\\alpha - 3\\cos\\alpha',
            '\\cos\\alpha \\geq 1 - \\dfrac{\\alpha^{2}}{2}',
            '\\sin\\alpha \\geq \\alpha - \\dfrac{\\alpha^{3}}{6}, \\ \\alpha \\geq 0'
        ];
        
        const equationContainer = document.getElementById('equationContainer');
        let currentEquation = 0;
        
        // Create two equation elements that will overlap
        const equation1 = document.createElement('div');
        equation1.className = 'equation active';
        equationContainer.appendChild(equation1);
        
        const equation2 = document.createElement('div');
        equation2.className = 'equation';
        equationContainer.appendChild(equation2);
        
        // Render initial equation using KaTeX
        katex.render(equations[0], equation1, {
            displayMode: false,
            throwOnError: false
        });
        
        // Smooth cross-fade transition
        const cycleEquations = () => {
            const currentIndex = currentEquation % 2;
            const nextIndex = (currentEquation + 1) % 2;
            const currentElement = currentIndex === 0 ? equation1 : equation2;
            const nextElement = nextIndex === 0 ? equation1 : equation2;
            
            // Remove active class from current (fades out)
            currentElement.classList.remove('active');
            
            // Render next equation
            const nextEquation = equations[(currentEquation + 1) % equations.length];
            katex.render(nextEquation, nextElement, {
                displayMode: false,
                throwOnError: false
            });
            
            // Add active class to next after a tiny delay (fades in)
            setTimeout(() => {
                nextElement.classList.add('active');
                currentEquation = (currentEquation + 1) % equations.length;
            }, 50);
        };
        
        // Start cycling equations every 5 seconds
        cycleEquations();
        setInterval(cycleEquations, 5000);
        
        // Button interaction with enhanced effect
        const ctaButton = document.querySelector('.cta-button');
        ctaButton.addEventListener('mouseenter', () => {
            // Create enhanced particle burst effect with new colors
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const ripple = document.createElement('span');
                    ripple.style.position = 'absolute';
                    ripple.style.borderRadius = '50%';
                    
                    const colors = [
                        'rgba(0, 255, 255, 0.4)',      // Cyan
                        'rgba(251, 187, 9, 0.3)',      // Golden yellow
                        'rgba(9, 92, 225, 0.2)',       // Dark blue
                        'rgba(40, 167, 69, 0.2)'       // Green
                    ];
                    ripple.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    ripple.style.transform = 'scale(0)';
                    ripple.style.animation = 'enhanced-ripple 0.8s linear';
                    ripple.style.width = '120px';
                    ripple.style.height = '120px';
                    ripple.style.left = `${Math.random() * 70 + 15}%`;
                    ripple.style.top = `${Math.random() * 70 + 15}%`;
                    
                    const style = document.createElement('style');
                    style.innerHTML = `
                        @keyframes enhanced-ripple {
                            0% {
                                transform: scale(0);
                                opacity: 0.8;
                                filter: blur(0px);
                            }
                            50% {
                                opacity: 0.5;
                                filter: blur(5px);
                            }
                            100% {
                                transform: scale(2.5);
                                opacity: 0;
                                filter: blur(10px);
                            }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    ctaButton.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                        style.remove();
                    }, 800);
                }, i * 100);
            }
        });
    </script>
</body>
</html>
